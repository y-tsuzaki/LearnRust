{"message":"`main` function not found in crate `build_script_build`","code":{"code":"E0601","explanation":"\nNo `main` function was found in a binary crate. To fix this error, add a\n`main` function. For example:\n\n```\nfn main() {\n    // Your program will start here.\n    println!(\"Hello world!\");\n}\n```\n\nIf you don't know the basics of Rust, you can go look to the Rust Book to get\nstarted: https://doc.rust-lang.org/book/\n"},"level":"error","spans":[{"file_name":"/Users/y-tsuzaki/.cargo/registry/src/github.com-1ecc6299db9ec823/device_query-0.1.3/build.rs","byte_start":0,"byte_end":1164,"line_start":1,"line_end":40,"column_start":1,"column_end":2,"is_primary":true,"text":[{"text":"extern crate pkg_config;","highlight_start":1,"highlight_end":25},{"text":"","highlight_start":1,"highlight_end":1},{"text":"#[cfg(target_os = \"windows\")]","highlight_start":1,"highlight_end":30},{"text":"fn main() {}","highlight_start":1,"highlight_end":13},{"text":"","highlight_start":1,"highlight_end":1},{"text":"#[cfg(target_os = \"linux\")]","highlight_start":1,"highlight_end":28},{"text":"use std::env;","highlight_start":1,"highlight_end":14},{"text":"#[cfg(target_os = \"linux\")]","highlight_start":1,"highlight_end":28},{"text":"use std::fs::File;","highlight_start":1,"highlight_end":19},{"text":"#[cfg(target_os = \"linux\")]","highlight_start":1,"highlight_end":28},{"text":"use std::io::Write;","highlight_start":1,"highlight_end":20},{"text":"#[cfg(target_os = \"linux\")]","highlight_start":1,"highlight_end":28},{"text":"use std::path::Path;","highlight_start":1,"highlight_end":21},{"text":"","highlight_start":1,"highlight_end":1},{"text":"#[cfg(target_os = \"linux\")]","highlight_start":1,"highlight_end":28},{"text":"fn main() {","highlight_start":1,"highlight_end":12},{"text":"    let mut config = String::new();","highlight_start":1,"highlight_end":36},{"text":"    let libdir = match pkg_config::get_variable(\"x11\", \"libdir\") {","highlight_start":1,"highlight_end":67},{"text":"        Ok(libdir) => format!(\"Some(\\\"{}\\\")\", libdir),","highlight_start":1,"highlight_end":55},{"text":"        Err(_) => \"None\".to_string(),","highlight_start":1,"highlight_end":38},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"    config.push_str(&format!(","highlight_start":1,"highlight_end":30},{"text":"        \"pub const {}: Option<&'static str> = {};\\n\",","highlight_start":1,"highlight_end":54},{"text":"        \"x11\", libdir","highlight_start":1,"highlight_end":22},{"text":"    ));","highlight_start":1,"highlight_end":8},{"text":"","highlight_start":1,"highlight_end":1},{"text":"    let config =","highlight_start":1,"highlight_end":17},{"text":"        format!(\"pub mod config {{ pub mod libdir {{\\n{}}}\\n}}\", config);","highlight_start":1,"highlight_end":74},{"text":"    let out_dir = env::var(\"OUT_DIR\").unwrap();","highlight_start":1,"highlight_end":48},{"text":"    let dest_path = Path::new(&out_dir).join(\"config.rs\");","highlight_start":1,"highlight_end":59},{"text":"    let mut f = File::create(&dest_path).unwrap();","highlight_start":1,"highlight_end":51},{"text":"    f.write_all(&config.into_bytes()).unwrap();","highlight_start":1,"highlight_end":48},{"text":"","highlight_start":1,"highlight_end":1},{"text":"    let target = env::var(\"TARGET\").unwrap();","highlight_start":1,"highlight_end":46},{"text":"    if target.contains(\"linux\") {","highlight_start":1,"highlight_end":34},{"text":"        println!(\"cargo:rustc-link-lib=dl\");","highlight_start":1,"highlight_end":45},{"text":"    } else if target.contains(\"freebsd\") || target.contains(\"dragonfly\") {","highlight_start":1,"highlight_end":75},{"text":"        println!(\"cargo:rustc-link-lib=c\");","highlight_start":1,"highlight_end":44},{"text":"    }","highlight_start":1,"highlight_end":6},{"text":"}","highlight_start":1,"highlight_end":2}],"label":"consider adding a `main` function to `/Users/y-tsuzaki/.cargo/registry/src/github.com-1ecc6299db9ec823/device_query-0.1.3/build.rs`","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror[E0601]\u001b[0m\u001b[0m\u001b[1m: `main` function not found in crate `build_script_build`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0m/Users/y-tsuzaki/.cargo/registry/src/github.com-1ecc6299db9ec823/device_query-0.1.3/build.rs:1:1\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m1\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0mextern crate pkg_config;\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m2\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m3\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m#[cfg(target_os = \"windows\")]\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m4\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mfn main() {}\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m39\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m40\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m}\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mconsider adding a `main` function to `/Users/y-tsuzaki/.cargo/registry/src/github.com-1ecc6299db9ec823/device_query-0.1.3/build.rs`\u001b[0m\n\n"}
{"message":"aborting due to previous error","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: aborting due to previous error\u001b[0m\n\n"}
{"message":"For more information about this error, try `rustc --explain E0601`.","code":null,"level":"failure-note","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1mFor more information about this error, try `rustc --explain E0601`.\u001b[0m\n"}
